(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),o=n.n(l),i=(n(67),n(22)),c=n(51),u=n(29),d=n(107),s=n(104),m=n(105),b=n(110),p=n(108),f=n(109),E=n(52),h=n.n(E),w=0,v={next:function(){return w+=1},current:function(){return w},setCurrent:function(e){return w=e}},g=function(e){e.removeAttribute("height"),e.removeAttribute("width"),e.setAttribute("style","width:100%;height:100%")},y=function(e,t,n){return{platform:e,platformId:t,embedHtml:n,uid:h()(),layout:{position:{x:100,y:100},size:{width:960,height:540},zIndex:v.next()}}},H="Twitch",k="Facebook",L="Youtube",D={Twitch:function(e){var t=document.createElement("div");t.innerHTML=e;var n,a=t.getElementsByTagName("iframe");if(1===a.length){n=a[0],g(n);var r=n.getAttribute("src");n.setAttribute("src",r.replace("www.example.com","peefly.github.io"));var l=r.replace("https://player.twitch.tv/?channel=","").replace("&parent=www.example.com","");return y(H,l,t.innerHTML)}console.error("invalid twitch rawData: ".concat(e))},Facebook:function(e){var t=document.createElement("div");t.innerHTML=e;var n,a=t.getElementsByTagName("iframe");if(1===a.length){n=a[0],g(n);var r=n.getAttribute("src").replace("https://www.facebook.com/plugins/video.php?href=","");r=r.replace("&show_text=0&width=560","");var l=(r=(r=unescape(r)).replace("https://www.facebook.com/","")).substr(0,r.indexOf("/"));return y(k,l,t.innerHTML)}console.error("invalid facebook rawData: ".concat(e))},Youtube:function(e){var t=document.createElement("div");t.innerHTML=e;var n,a=t.getElementsByTagName("iframe");if(1===a.length){n=a[0],g(n);var r=n.getAttribute("src").replace("https://www.youtube.com/embed/","");return y(L,r,t.innerHTML)}console.error("invalid facebook rawData: ".concat(e))}},O=function(e){var t=function(e){return function(e){return e.includes("https://player.twitch.tv/?channel=")}(e)?H:function(e){return e.includes("https://www.facebook.com/plugins/video.php?")}(e)?k:function(e){return e.includes("https://www.youtube.com/embed/")}(e)?L:(console.error("unknown input rawData"),"Unknown")}(e);if("Unknown"!==t)return D[t](e)},T=n(12),x=n(18),M={embedList:{},embedInputRaw:""},_=Object(x.b)({embedListData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_EMBED":return(e=Object(T.a)({},t)).embedList[n.newEmbed.uid]=n.newEmbed,e;case"REMOVE_EMBED":return delete(e=Object(T.a)({},t)).embedList[n.uid],e;case"TOP_EMBED":return(e=Object(T.a)({},t)).embedList[n.uid].layout.zIndex=v.next(),e;case"SET_EMBED_HTML":return(e=Object(T.a)({},t)).embedList[n.uid].embedHtml=n.embedHtml,e;case"SET_EMBED_INPUT_RAW":return(e=Object(T.a)({},t)).embedInputRaw=n.embedInputRaw,e;case"REPLACE_EMBED":e=Object(T.a)({},t);var a=O(t.embedInputRaw);return a.layout=e.embedList[n.uid].layout,delete e.embedList[n.uid],e.embedList[a.uid]=a,e;case"SET_EMBED_LAYOUT":return(e=Object(T.a)({},t)).embedList[n.uid].layout=n.layout,e;default:return t}}}),I=(n(74),function(e){var t=e.embedListData,n=e.addHandler,l=e.setEmbedInputRawHandler,o=Object(a.useState)(!1),i=Object(u.a)(o,2),E=i[0],h=i[1];return r.a.createElement(m.a,null,r.a.createElement(b.a,{trigger:"focus",placement:"bottom",overlay:function(e){e.outOfBoundaries,e.scheduleUpdate,e.show,e.arrowProps;var t=Object(c.a)(e,["outOfBoundaries","scheduleUpdate","show","arrowProps"]);return r.a.createElement(s.a,Object.assign({},t,{onClick:function(){return h(!0)},className:"linkStyle"}),"\u53d6\u5f97\u65b9\u5f0f")}},r.a.createElement(p.a.Control,{placeholder:"\u5d4c\u5165\u78bc","aria-label":"\u5d4c\u5165\u78bc",size:"sm",style:{backgroundColor:"#333",color:"#aaa",border:"0px solid #fff",width:60,flex:"none",padding:"4px"},value:t.embedInputRaw,onChange:function(e){return l(e.target.value)}})),r.a.createElement(m.a.Append,null,r.a.createElement(f.a,{variant:"dark",size:"sm",onClick:function(){return l("")}},"\u6e05\u9664"),r.a.createElement(f.a,{variant:"dark",size:"sm",onClick:function(){if(""!==t.embedInputRaw){var e=O(t.embedInputRaw);n(e)}}},"\u52a0\u5165")),r.a.createElement(function(e){return r.a.createElement(d.a,Object.assign({},e,{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),r.a.createElement(d.a.Header,{closeButton:!0},r.a.createElement(d.a.Title,{id:"contained-modal-title-vcenter"},"\u5d4c\u5165\u78bc\u53d6\u5f97\u65b9\u5f0f")),r.a.createElement(d.a.Body,null,r.a.createElement("p",null,r.a.createElement("strong",{style:{color:"#B200FF"}},"Twitch"),r.a.createElement("br",null),r.a.createElement("span",null,"[\u5be6\u6cc1\u53f3\u4e0b\u89d2\u5206\u4eab] \u2192 [\u5d4c\u5165] \u2192 [\u4f7f\u7528 iframe]")),r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"https://www.facebook.com/help/1570724596499071",target:"_blank",rel:"noopener noreferrer",style:{color:"#0023FF",textDecoration:"underline"}},"Facebook")),r.a.createElement("br",null),r.a.createElement("span",null,"[\u5be6\u6cc1\u53f3\u4e0a\u89d2\u5c0f\u9234\u943a\u65c1\u4e09\u9ede] \u2192 [\u5d4c\u5165]")),r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("a",{href:"https://support.google.com/youtube/answer/171780",target:"_blank",rel:"noopener noreferrer",style:{color:"#FF0000",textDecoration:"underline"}},"Youtube")),r.a.createElement("br",null),r.a.createElement("span",null,"[\u5be6\u6cc1/\u5f71\u7247\u53f3\u4e0b\u65b9\u5206\u4eab] \u2192 [\u5d4c\u5165]"))))},{show:E,onHide:function(){return h(!1)}}))});I.defaultProps=M;var j=Object(i.b)(function(e){return{embedListData:e.embedListData}},function(e){return{addHandler:function(t){e(function(e){return{type:"ADD_EMBED",newEmbed:e}}(t))},setEmbedInputRawHandler:function(t){e(function(e){return{type:"SET_EMBED_INPUT_RAW",embedInputRaw:e}}(t))}}})(I),B=n(31),A=n(59),C=n(106),z=(n(98),function(e){var t=e.removeHandler,n=e.mouseDownHandler,l=e.setHtmlHandler,o=e.replaceHandler,i=e.setLayoutHandler,c=e.embed,d=c.platform,m=c.platformId,p=c.embedHtml,E=c.uid,h=c.layout,w={alignItems:"center",justifyContent:"center",border:"solid 0px #aaa",backgroundColor:"#222",zIndex:h.zIndex},v=Object(T.a)({top:32,backgroundColor:"#222",position:"absolute"},h.size),g=function(e){var t=e.x,n=e.y,a=e.width,r=e.height;h.size={width:a,height:r},h.position={x:t,y:n},i(E,h)};Object(a.useEffect)(function(){});var y,H=Object(a.useState)(!1),k=Object(u.a)(H,2),L=k[0],D=k[1],O={height:32,right:"0px",position:"absolute",backgroundColor:"#222",color:"#fff",border:"solid 0px #aaa",alignItems:"right",textAlign:"right",visibility:L?"visible":"hidden"},x={height:32,left:"0px",position:"absolute",backgroundColor:"#222",color:"#fff",border:"solid 0px #aaa",alignItems:"left",textAlign:"left",visibility:L?"visible":"hidden",paddingLeft:10,lineHeight:"".concat(32,"px")};return w.backgroundColor=L?"#222":"rgba(0,0,0,0)",r.a.createElement(A.a,{style:w,lockAspectRatio:v.width/v.height,lockAspectRatioExtraHeight:32,onMouseOver:function(){return D(!0)},onMouseOut:function(){return D(!1)},position:h.position,size:{width:h.size.width,height:h.size.height+32},onDragStop:function(e,t){g(Object(T.a)({},h.size,t))},onResize:function(e,t,n,a,r){var l=parseInt(n.style.width,10),o=parseInt(n.style.height,10)-32;g(Object(T.a)({width:l,height:o},r))},onMouseDown:function(){return n(E)},bounds:"window",cancel:".controlPanel"},r.a.createElement("div",{className:"titlePanel",style:x},m," - ",d," (",E,")"),r.a.createElement("div",{className:"controlPanel",style:O},r.a.createElement(C.a,null,r.a.createElement(b.a,{key:"replace",placement:"bottom",delay:"500",overlay:r.a.createElement(s.a,null,"\u53d6\u4ee3")},r.a.createElement(f.a,{variant:"dark",size:"sm",onClick:function(){l(E,""),setTimeout(o,0,E)}},r.a.createElement(B.a,null))),r.a.createElement(b.a,{key:"refresh",placement:"bottom",delay:"500",overlay:r.a.createElement(s.a,null,"\u91cd\u6574")},r.a.createElement(f.a,{variant:"dark",size:"sm",onClick:function(){l(E,""),setTimeout(l,0,E,p)}},r.a.createElement(B.b,null))),r.a.createElement(b.a,{key:"close",placement:"bottom",delay:"500",overlay:r.a.createElement(s.a,null,"\u95dc\u9589")},r.a.createElement(f.a,{variant:"dark",size:"sm",onClick:function(){return t(E)}},r.a.createElement(B.c,null))))),r.a.createElement("div",{style:v,dangerouslySetInnerHTML:(y=p,{__html:y})}),!1)}),R=function(e){var t=e.embedListData,n=e.removeHandler,a=e.topHandler,l=e.setHtmlHandler,o=e.replaceHandler,i=e.setLayoutHandler,c=Object.keys(t.embedList).map(function(e){return r.a.createElement(z,{key:e,embed:t.embedList[e],removeHandler:n,mouseDownHandler:a,setHtmlHandler:l,replaceHandler:o,setLayoutHandler:i})});return r.a.createElement("div",null,c)};R.defaultProps={embedListData:M};var P=Object(i.b)(function(e){return{embedListData:e.embedListData}},function(e){return{removeHandler:function(t){e(function(e){return{type:"REMOVE_EMBED",uid:e}}(t))},topHandler:function(t){e(function(e){return{type:"TOP_EMBED",uid:e}}(t))},setHtmlHandler:function(t,n){e(function(e,t){return{type:"SET_EMBED_HTML",uid:e,embedHtml:t}}(t,n))},replaceHandler:function(t){e(function(e){return{type:"REPLACE_EMBED",uid:e}}(t))},setLayoutHandler:function(t,n){e(function(e,t){return{type:"SET_EMBED_LAYOUT",uid:e,layout:t}}(t,n))}}})(R);var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"InputContainer"},r.a.createElement(j,null)),r.a.createElement("div",{className:"EmbedContainer"},r.a.createElement(P,null)))},S=(n(99),n(100),Object(x.c)(_));o.a.render(r.a.createElement(i.a,{store:S},r.a.createElement(N,null)),document.getElementById("root"))},62:function(e,t,n){e.exports=n(101)},67:function(e,t,n){},74:function(e,t,n){},98:function(e,t,n){}},[[62,1,2]]]);
//# sourceMappingURL=main.29cc9e57.chunk.js.map