(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,n){e.exports=n(84)},51:function(e,t,n){},61:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),o=n.n(i),l=(n(51),n(17)),c=n(87),u=n(90),d=n(92),s=n(36),m=n.n(s),b=0,f={next:function(){return b+=1},current:function(){return b},setCurrent:function(e){return b=e}},p=function(e){e.removeAttribute("height"),e.removeAttribute("width"),e.setAttribute("style","width:100%;height:100%")},E=function(e,t,n){return{platform:e,platformId:t,embedHtml:n,uid:m()(),layout:{position:{x:100,y:100},size:{width:960,height:540},zIndex:f.next()}}},h="Twitch",v="Facebook",w="Youtube",g={Twitch:function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.getElementsByTagName("a");if(1===n.length){n[0].remove();var a,r=t.getElementsByTagName("iframe");if(1===r.length){a=r[0],p(a);var i=a.getAttribute("src").replace("https://player.twitch.tv/?channel=","");return E(h,i,t.innerHTML)}console.error("invalid twitch rawData: ".concat(e))}else console.error("invalid twitch rawData: ".concat(e))},Facebook:function(e){var t=document.createElement("div");t.innerHTML=e;var n,a=t.getElementsByTagName("iframe");if(1===a.length){n=a[0],p(n);var r=n.getAttribute("src").replace("https://www.facebook.com/plugins/video.php?href=","");r=r.replace("&show_text=0&width=560","");var i=(r=(r=unescape(r)).replace("https://www.facebook.com/","")).substr(0,r.indexOf("/"));return E(v,i,t.innerHTML)}console.error("invalid facebook rawData: ".concat(e))},Youtube:function(e){var t=document.createElement("div");t.innerHTML=e;var n,a=t.getElementsByTagName("iframe");if(1===a.length){n=a[0],p(n);var r=n.getAttribute("src").replace("https://www.youtube.com/embed/","");return E(w,r,t.innerHTML)}console.error("invalid facebook rawData: ".concat(e))}},y=function(e){var t=function(e){return function(e){return e.includes("https://player.twitch.tv/?channel=")}(e)?h:function(e){return e.includes("https://www.facebook.com/plugins/video.php?")}(e)?v:function(e){return e.includes("https://www.youtube.com/embed/")}(e)?w:(console.error("unknown input rawData"),"Unknown")}(e);if("Unknown"!==t)return g[t](e)},H=n(9),L=n(15),k={embedList:{},embedInputRaw:""},D=Object(L.b)({embedListData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_EMBED":return(e=Object(H.a)({},t)).embedList[n.newEmbed.uid]=n.newEmbed,e;case"REMOVE_EMBED":return delete(e=Object(H.a)({},t)).embedList[n.uid],e;case"TOP_EMBED":return(e=Object(H.a)({},t)).embedList[n.uid].layout.zIndex=f.next(),e;case"SET_EMBED_HTML":return(e=Object(H.a)({},t)).embedList[n.uid].embedHtml=n.embedHtml,e;case"SET_EMBED_INPUT_RAW":return(e=Object(H.a)({},t)).embedInputRaw=n.embedInputRaw,e;case"REPLACE_EMBED":e=Object(H.a)({},t);var a=y(t.embedInputRaw);return a.layout=e.embedList[n.uid].layout,delete e.embedList[n.uid],e.embedList[a.uid]=a,e;case"SET_EMBED_LAYOUT":return(e=Object(H.a)({},t)).embedList[n.uid].layout=n.layout,e;default:return t}}}),T=function(e){var t=e.embedListData,n=e.addHandler,a=e.setEmbedInputRawHandler;return r.a.createElement(c.a,{className:"mb-12"},r.a.createElement(u.a.Control,{placeholder:"\u5d4c\u5165\u78bc","aria-label":"\u5d4c\u5165\u78bc",size:"sm",style:{backgroundColor:"#333",color:"#aaa",border:"0px solid #fff"},value:t.embedInputRaw,onChange:function(e){return a(e.target.value)}}),r.a.createElement(c.a.Append,null,r.a.createElement(d.a,{variant:"dark",size:"sm",onClick:function(){return a("")}},"\u6e05\u9664"),r.a.createElement(d.a,{variant:"dark",size:"sm",onClick:function(){if(""!==t.embedInputRaw){var e=y(t.embedInputRaw);n(e)}}},"\u52a0\u5165")))};T.defaultProps=k;var M=Object(l.b)(function(e){return{embedListData:e.embedListData}},function(e){return{addHandler:function(t){e(function(e){return{type:"ADD_EMBED",newEmbed:e}}(t))},setEmbedInputRawHandler:function(t){e(function(e){return{type:"SET_EMBED_INPUT_RAW",embedInputRaw:e}}(t))}}})(T),O=n(44),I=n(22),_=n(38),x=n(88),A=n(91),j=n(89),B=(n(61),function(e){var t=e.removeHandler,n=e.mouseDownHandler,i=e.setHtmlHandler,o=e.replaceHandler,l=e.setLayoutHandler,c=e.embed,u=c.platform,s=c.platformId,m=c.embedHtml,b=c.uid,f=c.layout,p={alignItems:"center",justifyContent:"center",border:"solid 0px #aaa",backgroundColor:"#222",zIndex:f.zIndex},E=Object(H.a)({top:32,backgroundColor:"#222",position:"absolute"},f.size),h=function(e){var t=e.x,n=e.y,a=e.width,r=e.height;f.size={width:a,height:r},f.position={x:t,y:n},l(b,f)};Object(a.useEffect)(function(){});var v,w=Object(a.useState)(!1),g=Object(O.a)(w,2),y=g[0],L=g[1],k={height:32,right:"0px",position:"absolute",backgroundColor:"#222",color:"#fff",border:"solid 0px #aaa",alignItems:"right",textAlign:"right",visibility:y?"visible":"hidden"},D={height:32,left:"0px",position:"absolute",backgroundColor:"#222",color:"#fff",border:"solid 0px #aaa",alignItems:"left",textAlign:"left",visibility:y?"visible":"hidden",paddingLeft:10,lineHeight:"".concat(32,"px")};return p.backgroundColor=y?"#222":"rgba(0,0,0,0)",r.a.createElement(_.a,{style:p,lockAspectRatio:E.width/E.height,lockAspectRatioExtraHeight:32,onMouseOver:function(){return L(!0)},onMouseOut:function(){return L(!1)},position:f.position,size:{width:f.size.width,height:f.size.height+32},onDragStop:function(e,t){h(Object(H.a)({},f.size,t))},onResize:function(e,t,n,a,r){var i=parseInt(n.style.width,10),o=parseInt(n.style.height,10)-32;h(Object(H.a)({width:i,height:o},r))},onMouseDown:function(){return n(b)},bounds:"window",cancel:".controlPanel"},r.a.createElement("div",{className:"titlePanel",style:D},s," - ",u," (",b,")"),r.a.createElement("div",{className:"controlPanel",style:k},r.a.createElement(x.a,null,r.a.createElement(A.a,{key:"replace",placement:"top",overlay:r.a.createElement(j.a,null,"\u53d6\u4ee3")},r.a.createElement(d.a,{variant:"dark",size:"sm",onClick:function(){i(b,""),setTimeout(o,0,b)}},r.a.createElement(I.a,null))),r.a.createElement(A.a,{key:"refresh",placement:"top",overlay:r.a.createElement(j.a,null,"\u91cd\u6574")},r.a.createElement(d.a,{variant:"dark",size:"sm",onClick:function(){i(b,""),setTimeout(i,0,b,m)}},r.a.createElement(I.b,null))),r.a.createElement(A.a,{key:"close",placement:"top",overlay:r.a.createElement(j.a,null,"\u95dc\u9589")},r.a.createElement(d.a,{variant:"dark",size:"sm",onClick:function(){return t(b)}},r.a.createElement(I.c,null))))),r.a.createElement("div",{style:E,dangerouslySetInnerHTML:(v=m,{__html:v})}),!1)}),C=function(e){var t=e.embedListData,n=e.removeHandler,a=e.topHandler,i=e.setHtmlHandler,o=e.replaceHandler,l=e.setLayoutHandler,c=Object.keys(t.embedList).map(function(e){return r.a.createElement(B,{key:e,embed:t.embedList[e],removeHandler:n,mouseDownHandler:a,setHtmlHandler:i,replaceHandler:o,setLayoutHandler:l})});return r.a.createElement("div",null,c)};C.defaultProps={embedListData:k};var R=Object(l.b)(function(e){return{embedListData:e.embedListData}},function(e){return{removeHandler:function(t){e(function(e){return{type:"REMOVE_EMBED",uid:e}}(t))},topHandler:function(t){e(function(e){return{type:"TOP_EMBED",uid:e}}(t))},setHtmlHandler:function(t,n){e(function(e,t){return{type:"SET_EMBED_HTML",uid:e,embedHtml:t}}(t,n))},replaceHandler:function(t){e(function(e){return{type:"REPLACE_EMBED",uid:e}}(t))},setLayoutHandler:function(t,n){e(function(e,t){return{type:"SET_EMBED_LAYOUT",uid:e,layout:t}}(t,n))}}})(C);var z=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"InputContainer"},r.a.createElement(M,null)),r.a.createElement("div",{className:"EmbedContainer"},r.a.createElement(R,null)))},N=(n(82),n(83),Object(L.c)(D));o.a.render(r.a.createElement(l.a,{store:N},r.a.createElement(z,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.d17b9c43.chunk.js.map